{% extends "layout.html" %}
{% block title %}To-Do App{% endblock %}

{% block content %}
  <div class="jumbotron">
    <h1 class="display-4 text-center">DevOps Engineering Tasks</h1>
    
    <br>
    <br>

   <h5 class="text-center" >Create A New Task</h5> 
    <form method="post" action="/add_tasks">
      <div class="form-group">
     <label for="title">Task:</label>
        <input type="text" class="form-control" id="title" placeholder="Type A New Task" name="title">
      </div>
      <div class="form-group">
      <label for="title">Description:</label>
        <input type="text" class="form-control" id="description" placeholder="Enter Task Description" name="description">
      </div>

      <div class="form-group">
        <label for="status">Select Status</label>
        <select class="form-control" id="status" name="status">
          <option>To Do</option>
          <option>Doing</option>
          <option>Done</option>
         </select>
      </div>

      <button type="submit" class="btn btn-primary"> Create A New Task</button>
    </form>
    <br>
    <br>


  
   </div>

  <div class="row">
    <div class="col-md-12">
      <h2 class ="text-center">Tasks</h2>
      <ul>
        <table class="table table-hover text-centered" >
        <tr>
            
            <th scope="col">Status</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
         
          <tr>
          {% for item in view_model._items %}
          
          <td>{{item.status}}</td>
          <td>{{item.name}}</td>
          <td>{{item.desc}}</td>
          
          
          <td>
            <form method="post" action="update_task_status">
              <div class="form-group">
                <input type="text" class="form-control" name="id" value="{{item.id}}" hidden />
                <input type="text" class="form-control" name="status" value="Done" hidden />
              </div>
              <button type="submit" class="btn btn-primary btn-sm ">Done</button>
            </form>
          </td>
          <td>
            <form method="post" action="update_task_status">
              <div class="form-group">
                <input type="text" class="form-control" name="id" value="{{item.id}}" hidden />
                <input type="text" class="form-control" name="status" value="To Do" hidden />
              </div>
              <button type="submit" class="btn btn-primary btn-sm ">To Do</button>
            </form>
          </td>

          <td>
            <form method="post" action="update_task_status">
              <div class="form-group">
                <input type="text" class="form-control" name="id" value="{{item.id}}" hidden />
                <input type="text" class="form-control" name="status" value="Doing" hidden />
              </div>
              <button type="submit" class="btn btn-primary btn-sm ">Doing</button>
            </form>
          </td>
          </tr>
          {%endfor%}
        </table>
      </ul>
    </div>

    
 
  </div>
{% endblock %}